%
%  PWM-Circuit.ps
%

/gs {gsave} def
/gr {grestore} def

/np {newpath} def
/cp {closepath} def
/m2 {moveto} def
/l2 {lineto} def
/r2 {rlineto} def
/tr {translate} def
/sk {stroke} def
/slw {setlinewidth} def

/circle {0 360 arc fill} def %% x y r circle


/red    [1 0 0] def
/green  [0 1 0] def
/blue   [0 0 1] def

/purple [.8 .0 .8] def
/yellow [.8 .8 .0] def
/orange [1  .5  0] def
/brown  [.8 .7 .3] def
/redPCB [.8 .5 .2] def
/gold   [.8 .9 .3] def
/gray   [.5 .5 .5] def

/op 2 sqrt dup 2 add div def
/on op neg def


/setColor {
    aload
    pop
    setrgbcolor
} def

/octagon {
    gs
    tr
    octagonColor setColor
    np
    1 op m2
    op 1 l2
    on 1 l2
    -1 op l2
    -1 on l2
    on -1 l2
    op -1 l2
    1 on l2
    cp
    fill
    1 setgray
    np
    -.4 -.4 m2
    0.4 -.4 l2
    0.4 0.4 l2
    -.4 0.4 l2
    cp
    fill
    gr
} def

/screwHole {
    gs
    tr
    gold setColor
    0 0 2.0 circle
    1 setgray
    0 0 1.0 circle
    fill
    gr
} def

/Helvetica-Bold findfont 1.2 scalefont setfont

50 50 tr
9  9 scale


/bottomNumber {
    dup
    0.4 sub
    7.8 m2
    2 string cvs show
} def

/topNumber {
    dup dup 22 lt exch 36 gt or {
	dup
	0.5 sub
	13.5 m2
	1 add
	2 string cvs show
    }
    {
	pop
    } ifelse
} def


/octagonColor gray def
1 2 50 {
    dup 10 octagon
    dup 12 octagon
    dup bottomNumber
    topNumber
} for

-2.5 11 screwHole
52.5 11 screwHole


%%%%%%%%%%%%  Draw wires

0.5 slw

/topOctagon {
    /octagonColor exch def
    dup
    12 octagon
    octagonColor setColor
    12.5 m2 0 20 r2 sk
} def

/bottomOctagon {
    /octagonColor exch def
    dup
    10 octagon
    octagonColor setColor
    10.5 m2 1 1 r2 0 20 r2 sk
} def


23 purple topOctagon

25 yellow topOctagon
31 blue   topOctagon

29 orange bottomOctagon
31 green  bottomOctagon
33 brown  bottomOctagon

showpage

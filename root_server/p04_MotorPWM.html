<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="cache-control" content="no-store" />
  <meta http-equiv="pragma" content="no-cache" />
<title>Motor Speed Control using Raspberry Pi PWM</title>
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/default.min.css">
<link rel="stylesheet" href="style.css" />  
</head>
<body>
<div class="wrapperDiv">
<div class="mainMenuBarDiv">
<ul class="mainMenuBarList">
<li class="mb_li"><a class="button" href="index.html">Home</a></li>
<li class="mb_li"><a class="button" href="menuPage.html">Menu</a></li>
<li class="mb_li"><a class="button" href="aboutPage.html">About</a></li>
<li class="mb_li"><a class="button" href="contactPage.html">Contact</a></li>
<li class="mb_li"><a class="button" href="helpPage.html">Help</a></li>
</ul>
</div>
<div class="headerDiv">
<h1>Motor Speed Control using Raspberry Pi PWM</h1>
</div>
<div class="contentDiv">

<hr class="clearLeft" />
  <div class="imageContainer" class="floatLeft">
<img src="imgs/L298-H-Bridge.jpg" width="353" height="393" /><div class="imageCaption" style="width:353 px;">L298 H-Bridge
</div></div>
  <p>To control the motors, I used the same PWM circuit described on <a href="p02_PWM.html">this webpage</a>, but the outputs
  are connected to an <a href="https://en.wikipedia.org/wiki/H-bridge">H-Bridge</a> to control a stronger current.  Motors need much more power than LEDs.</p>
  <p>For the H-Bridge, I used an L298 Dual H-Bridge.  I bought <a href="https://www.amazon.com/gp/product/B07WS89781/">a pack of four on Amazon</a> for $11.</p>
  <div class="imageContainer" class="floatLeft">
<img src="imgs/L298-Labels.jpg" width="500" height="333" /><div class="imageCaption" style="width:500 px;">L298 with I/O Labels
</div></div>
  
<hr class="clearLeft" />

  <div class="imageContainer" class="floatLeft">
<img src="imgs/L298-Schematic.png" width="437" height="433" /><div class="imageCaption" style="width:437 px;">L298 to RPi interface
</div></div>
  <p>This is the wiring diagram for connecting the Raspberry Pi header to the H-Bridge.  I made the connections with
  <a href="https://en.wikipedia.org/wiki/Wire_wrap">wire wrap</a>.</p>

<hr class="clearLeft" />


  <div class="imageContainer" class="floatLeft">
<img src="imgs/Buck-Converter.jpg" width="210" height="223" /><div class="imageCaption" style="width:210 px;">12v to 5v Buck Converter
</div></div>

  <p>
  To convert the 12 volt power from the battery to the 5 volts
  needed by the Raspberry Pi and the encoder logic circuit, I
  used a 12v-to-5v <a href="https://en.wikipedia.org/wiki/Buck_converter">buck converter</a>.
  I bought a four pack of these buck converters
  <a href="https://www.amazon.com/gp/product/B087RHWTJW/">
  on Amazon for $12
  </a>.
  The 5 volt output is emitted on a USB port, which is very
  convenient for attaching to the Raspberry Pi.
  All I needed was a USB-A to USB-C cable.
  </p>

  <hr class="clearLeft" />

  <div class="imageContainer" class="floatLeft">
<video class=floatLeft width="640" controls><source src="video/wiringControlBoard-720.mp4" type="video/mp4" />Your browser does not support the video tab.
</video>
<div class="imageCaption" style="width:640px;">Wiring the control board. My arms were sunburned  when I made this video.
</div></div>
  <p>
  This is a video of the assembly and wiring of the robot control board. The Raspberry Pi is the green board in the lower right.  The L298 H-Bridges are at the top of the board.  The metal angle holds a small USB fan used to keep the Raspberry Pi cool during intensive computer vision processing.
  </p>
  
  <hr class="clearLeft" />

  <div class="imageContainer" class="floatLeft">
<video class=floatLeft width="640" controls><source src="video/motorPwm-480.mp4" type="video/mp4" />Your browser does not support the video tab.
</video>
<div class="imageCaption" style="width:640px;">640
</div></div>

  <p>This video shows testing of the motors using Wifi between the Raspberry Pi and a cell phone.  The and speed and direction of the motors can be independently controlled.  The next step is to mount the motors on the robot to drive the wheels.  The independent control allows differential steering.
  </p>
  <hr class="clearLeft" />

  
  <div class="imageContainer" class="floatLeft">
<img src="imgs/burnt-wires.jpg" width="564" height="772" /><div class="imageCaption" style="width:564 px;">Burnt wires from an accidental short.
</div></div>
  <p>Just to show that it isn't all just fun and games, here are some burnt alligator clips. I accidently caused a short sending the full current of the 12 volt battery through the wires, causing a loud pop and plenty of smoke.</p>
  
  <hr class="clearLeft" />
<hr class="clearLeft" />
</div>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
</body>
</html>
